# Формат файла SGF FF\[4\] (Smart Game Format)

Источник: [red-bean.com/sgf][1]\
История изменений: [red-bean.com/sgf/history.html][2]\
Перевод соответствует версии от 2021.12.01\
Автор перевода: Егоров Александр <z2y9x5@gmail.com>

Документ не является полным переводом спецификации с сайта [red-bean.com/sgf][1]. Здесь собрана вся информация, необходимая для создания собственной реализации редактора SGF для игры Го.

## Базовая структура
***

- SGF состоит из узлов, которые структурированы в дерево. У узла может быть только один родитель, но узел может иметь одного или более потомков. Таким образом в SGF можно сохранить запись игры (список ходов) и варианты основной линии игры.
- Узел это минимальный "кирпичик" видимый пользователю, то есть пользователь перемещается по дереву по узлам.
- Узлы состоят из свойств. Свойства содержат различного рода информацию. Например свойство B[] описывает ход черных, свойство C[] содержит текстовый комментарий.

Редактирование осуществляется на двух уровнях: добавление/удаление узлов и добавление/удаление свойств.

Для ясности: ход это часть узла, а не узел часть хода. Ход представлен одним из свойств, но узел может содержать более одного свойства.

## "Сделать ход" против "Поставить камень"
***

SGF предоставляет два способа поставить камень на доску.

- **Сделать ход** это как сделать ход в реальной игре. То есть вы можете сходить только на пустое пересечение, вы можете сделать только один ход за раз, вы можете взять пленные камни сделав ход.
- **Поставить камень** на доске это как выставить позицию. Например форовые камни, задачу или позицию для анализа. Таким образом мы можем выставить более одного камня, камни разного цвета, убрать камни, заменить камни камнями другого цвета, и все это в одном узле. Но мы не можем захватить пленников, если это не обычный ход!

**Ограничения**

[1]: https://www.red-bean.com/sgf/
[2]: https://www.red-bean.com/sgf/history.html
